(window.webpackJsonp=window.webpackJsonp||[]).push([[86],{1289:function(e,t,n){"use strict";const{registerComponent:s}=n(4),i=n(2090),r=n(2091),{saveUserAnswer:o,editUserAnswer:a}=n(1575);s("sliderInput",{component:i,actions:{saveUserAnswer:o,editUserAnswer:a},reducer:r,mapStateToProps:n(2092),trackingMap:n(2093)})},1369:function(e,t,n){"use strict";const s=n(7);e.exports=function(e){return s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1370:function(e,t,n){"use strict";e.exports=(e,t="_hasBeenViewed")=>{const{component:n,isPageReady:s}=e;return!0===s&&!0===n._isReady&&!0!==n[t]}},1371:function(e,t,n){"use strict";e.exports=function(e,t,n,s,i){s&&s.props&&s.props.component?(t.top&&(s.isInviewTop=!0),t.bottom&&(s.isInviewBottom=!0),s.isInviewTop&&s.isInviewBottom&&i&&i(s.props.component._id)):console.error("No component reference passed to helpers/visibilityChangeHandler")}},1397:function(e,t,n){"use strict";const s=n(217),i=n(2),r=n(1),o=n(0),a=n(309),l=n(7),u=i({displayName:"RangeSlider",propTypes:{labels:r.shape({min:r.string.isRequired,max:r.string.isRequired,selected:r.string.isRequired}),defaultValue:r.number,value:r.number,min:r.number.isRequired,max:r.number.isRequired,step:r.number.isRequired,onChange:r.func.isRequired,onAfterChange:r.func,onBeforeChange:r.func,onSliderClick:r.func,isDisabled:r.bool.isRequired,isRTL:r.bool,onReady:r.func},componentDidMount:function(){this._isMounted=!0,s(()=>{this._isMounted&&(this.props.onReady&&this.props.onReady(),this._slider&&this._slider._resize())},500)},componentWillUnmount:function(){this._isMounted=!1},getDefaultProps:function(){return{isDisabled:!1}},renderRangeLabels:function(){const{props:e}=this;if(e.labels)return o.createElement("div",{className:"ev-rangeslider-range-labels"},o.createElement("div",{className:"ev-rangeslider-range-labels-inner ev-clearfix"},o.createElement("div",{className:"ev-rangeslider-range-min ev-label"},o.createElement("span",null,e.labels.min)),o.createElement("div",{className:"ev-rangeslider-range-max ev-label"},o.createElement("span",null,e.labels.max))))},renderSelectedLabel:function(){const{props:e}=this;if(e.labels&&e.labels.selected)return o.createElement("div",{className:"ev-rangeslider-range-current-value ev-label"},o.createElement("span",{className:"ev-rangeslider-range-current-value-text"},e.labels.selected),o.createElement("span",{className:"ev-rangeslider-range-current-value-number"},e.value))},render:function(){const{props:e}=this;return o.createElement("div",{className:"ev-rangeslider-container"},this.renderRangeLabels(),o.createElement("div",{className:"ev-slider-container"},o.createElement(a,{ref:e=>this._slider=e,value:e.value,defaultValue:e.defaultValue,min:e.min,max:e.max,step:e.step,onChange:e.onChange,onAfterChange:e.onAfterChange,onBeforeChange:e.onBeforeChange,onSliderClick:e.onSliderClick,withBars:!0,className:l("ev-rangeslider",{"ev-rangeslider--disabled":e.isDisabled}),handleClassName:"ev-rangeslider__handle",barClassName:"ev-rangeslider__bar",disabled:e.isDisabled,invert:e.isRTL}),this.renderSelectedLabel()))}});e.exports=u},1575:function(e,t,n){"use strict";t.SLIDERINPUT_SAVE_USER_ANSWER="SLIDERINPUT_SAVE_USER_ANSWER",t.SLIDERINPUT_EDIT_USER_ANSWER="SLIDERINPUT_EDIT_USER_ANSWER",t.saveUserAnswer=e=>({type:t.SLIDERINPUT_SAVE_USER_ANSWER,payload:e}),t.editUserAnswer=e=>({type:t.SLIDERINPUT_EDIT_USER_ANSWER,payload:e})},2090:function(e,t,n){"use strict";const s=n(308),i=n(2),r=n(1),o=n(0),a=n(7),{Component:l}=n(467),u=n(1397),c=n(1369),d=n(1370),p=n(1371),m=i({displayName:"SliderInput",propTypes:{component:r.object.isRequired,setComponentAsReady:r.func.isRequired,setComponentAsViewed:r.func.isRequired,setComponentAsComplete:r.func.isRequired,saveUserAnswer:r.func.isRequired,editUserAnswer:r.func.isRequired,updateVariable:r.func.isRequired,styles:r.object,articleStyle:r.string.isRequired,theme:r.object.isRequired,isRTL:r.bool},getInitialState:function(){const{_userAnswer:e,_defaultValue:t}=this.props.component;return{_userAnswer:s(e)?t:e,_previousUserAnswer:void 0}},componentDidMount:function(){this.props.setComponentAsReady(this.props.component._id),this.hasSubmitButton()||this.saveToVariable()},componentDidUpdate:function(e,t){const{_userAnswer:n}=this.state;n===t._userAnswer||this.hasSubmitButton()||this.saveToVariable()},hasSubmitButton:function(){return""!==this.props.component.submitButtonText},saveToVariable:function(){const{props:e,state:t}=this;e.component._canSaveToVariable&&e.updateVariable(e.component._variableId,t._userAnswer,e.component._variableUpdateType,t._previousUserAnswer)},submitAnswer:function(){const{props:e,state:t}=this;e.saveUserAnswer({componentId:e.component._id,userAnswer:t._userAnswer}),e.setComponentAsComplete(e.component._id,{_isSubmitted:!0})},onSliderChanging:function(e){this.setState({_userAnswer:e})},onSliderChanged:function(){this.hasSubmitButton()||this.submitAnswer()},onSubmitClicked:function(e){e.preventDefault(),this.saveToVariable(),this.submitAnswer()},onEditClicked:function(e){e.preventDefault();const{props:t,state:n}=this;this.setState({_previousUserAnswer:n._userAnswer}),t.editUserAnswer({componentId:t.component._id})},onVisibilityChange:function(...e){p(...e,this,this.props.setComponentAsViewed)},getButtonSettings:function(){const{articleStyle:e,theme:t}=this.props;let n=t._button._settings;if(e&&"none"!==e){n=t._articleStyles[e]._elements._button._settings}return n},renderSubmittedLabel:function(){const{_isSubmitted:e,submittedLabelText:t}=this.props.component;if(e&&t)return o.createElement("div",{className:"ev-label"},t)},renderButtons:function(){const{submitButtonText:e,editButtonText:t,_isEditing:n,_isComplete:s,_allowEditing:i}=this.props.component,{_userAnswer:r}=this.state,{_isActionButtonOnRight:l}=this.getButtonSettings(),u=(!s||n)&&this.hasSubmitButton(),c=i&&s&&!n;if(u||c)return o.createElement("div",{className:a("ev-buttons",{"ev-switch-buttons":l})},u&&o.createElement("button",{className:"ev-button ev-button-submit",onClick:this.onSubmitClicked,disabled:""===r},e),c&&o.createElement("button",{className:"ev-button ev-button-edit",onClick:this.onEditClicked},t))},render:function(){const{props:e,state:t}=this;return o.createElement(l,{component:e.component,styles:e.styles,isVisibilitySensorActive:d(e),onVisibilityChange:this.onVisibilityChange},o.createElement("div",null,o.createElement("div",{className:c(e.component)},o.createElement(u,{value:t._userAnswer,onChange:this.onSliderChanging,onAfterChange:this.onSliderChanged,isDisabled:e.component._isComplete&&!e.component._isEditing,defaultValue:e.component._defaultValue,min:e.component._minValue,max:e.component._maxValue,step:e.component._step,labels:e.component._labels,isRTL:e.isRTL}),this.renderSubmittedLabel(),this.renderButtons())))}});e.exports=m},2091:function(e,t,n){"use strict";const s=n(10),{SLIDERINPUT_SAVE_USER_ANSWER:i,SLIDERINPUT_EDIT_USER_ANSWER:r}=n(1575);e.exports=function(e,t){switch(t.type){case i:return s({},e,{_userAnswer:t.payload.userAnswer,_isComplete:!0,_isSubmitted:!0,_isEditing:!1});case r:return s({},e,{_isEditing:!0,_isSubmitted:!1});default:return e}}},2092:function(e,t,n){"use strict";const s=n(78);e.exports=(e,t)=>({articleStyle:s(e,t,"article")._classes})},2093:function(e,t,n){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_userAnswer:{fieldKey:"_userAnswer",type:"Number",shouldRestore:!0}}}}]);