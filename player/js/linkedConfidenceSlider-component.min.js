(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{1271:function(e,n,t){"use strict";const{registerComponent:s,registerEpics:i}=t(4),o=t(1978),a=t(1979),{sliderValueChanged:l}=t(1542),{confidenceSliderCompletedEpic:r}=t(1980),c=t(1981),d=t(1982);i(r),s("linkedConfidenceSlider",{component:o,actions:{sliderValueChanged:l},reducer:a,mapStateToProps:c,trackingMap:d})},1369:function(e,n,t){"use strict";const s=t(7);e.exports=function(e){return s(`ev-${e._component}-widget ev-component-widget ev-clearfix`,{"ev-disabled":!e._isEnabled,"ev-complete ev-show-user-answer":e._isComplete&&!e._isEnabled,"ev-correct":e._isCorrect&&!e._isEnabled,"ev-submitted":e._isSubmitted})}},1397:function(e,n,t){"use strict";const s=t(217),i=t(2),o=t(1),a=t(0),l=t(309),r=t(7),c=i({displayName:"RangeSlider",propTypes:{labels:o.shape({min:o.string.isRequired,max:o.string.isRequired,selected:o.string.isRequired}),defaultValue:o.number,value:o.number,min:o.number.isRequired,max:o.number.isRequired,step:o.number.isRequired,onChange:o.func.isRequired,onAfterChange:o.func,onBeforeChange:o.func,onSliderClick:o.func,isDisabled:o.bool.isRequired,isRTL:o.bool,onReady:o.func},componentDidMount:function(){this._isMounted=!0,s(()=>{this._isMounted&&(this.props.onReady&&this.props.onReady(),this._slider&&this._slider._resize())},500)},componentWillUnmount:function(){this._isMounted=!1},getDefaultProps:function(){return{isDisabled:!1}},renderRangeLabels:function(){const{props:e}=this;if(e.labels)return a.createElement("div",{className:"ev-rangeslider-range-labels"},a.createElement("div",{className:"ev-rangeslider-range-labels-inner ev-clearfix"},a.createElement("div",{className:"ev-rangeslider-range-min ev-label"},a.createElement("span",null,e.labels.min)),a.createElement("div",{className:"ev-rangeslider-range-max ev-label"},a.createElement("span",null,e.labels.max))))},renderSelectedLabel:function(){const{props:e}=this;if(e.labels&&e.labels.selected)return a.createElement("div",{className:"ev-rangeslider-range-current-value ev-label"},a.createElement("span",{className:"ev-rangeslider-range-current-value-text"},e.labels.selected),a.createElement("span",{className:"ev-rangeslider-range-current-value-number"},e.value))},render:function(){const{props:e}=this;return a.createElement("div",{className:"ev-rangeslider-container"},this.renderRangeLabels(),a.createElement("div",{className:"ev-slider-container"},a.createElement(l,{ref:e=>this._slider=e,value:e.value,defaultValue:e.defaultValue,min:e.min,max:e.max,step:e.step,onChange:e.onChange,onAfterChange:e.onAfterChange,onBeforeChange:e.onBeforeChange,onSliderClick:e.onSliderClick,withBars:!0,className:r("ev-rangeslider",{"ev-rangeslider--disabled":e.isDisabled}),handleClassName:"ev-rangeslider__handle",barClassName:"ev-rangeslider__bar",disabled:e.isDisabled,invert:e.isRTL}),this.renderSelectedLabel()))}});e.exports=c},1542:function(e,n,t){"use strict";n.SLIDER_VALUE_CHANGED="SLIDER_VALUE_CHANGED",n.sliderValueChanged=(e,t)=>({type:n.SLIDER_VALUE_CHANGED,payload:{componentId:e,value:t}})},1978:function(e,n,t){"use strict";const s=t(2),i=t(1),o=t(0),a=t(7),{Component:l}=t(467),r=t(1397),c=t(1369),d=t(214),u=s({displayName:"LinkedConfidenceSlider",propTypes:{component:i.object.isRequired,setComponentAsReady:i.func.isRequired,setComponentAsViewed:i.func.isRequired,setComponentAsStarted:i.func.isRequired,setComponentAsComplete:i.func.isRequired,showFeedback:i.func.isRequired,sliderValueChanged:i.func.isRequired},componentDidMount:function(){const{props:e}=this;void 0===e.component._selectedAnswer&&e.linkedComponent&&e.sliderValueChanged(e.component._id,e.linkedComponent._range._min),e.setComponentAsReady(e.component._id)},componentDidUpdate:function(e){const{component:n}=this.props;!e.component._isSubmitted&&n._isSubmitted&&this.showFeedback()},setComponentAsStarted:function(){const{props:e}=this;e.component._hasStarted||e.setComponentAsStarted(e.component._id)},onChange:function(e){const{props:n}=this;this.setComponentAsStarted(),n.sliderValueChanged(n.component._id,e)},onSubmitClicked:function(e){e.preventDefault();const{props:n}=this;this.setComponentAsStarted(),n.setComponentAsComplete(n.component._id,{_isSubmitted:!0})},onShowFeedbackClicked:function(e){e.preventDefault(),this.showFeedback()},onNavigateClicked:function(e){e.preventDefault();const{component:n}=this.props;n._linkedConfidenceSliderId&&d(n._linkedConfidenceSliderId)},onVisibilityChange:function(e,{top:n,bottom:t}){const{props:s}=this;n&&(this.isInviewTop=!0),t&&(this.isInviewBottom=!0),this.isInviewTop&&this.isInviewBottom&&s.setComponentAsViewed(s.component._id)},showFeedback:function(){const{component:e}=this.props,n=this.getFeedbackMessage();if(!n)return;let t=e.displayTitle;e._shouldShowDisplayTitleInFeedback||(t=null);const s={feedbackTitle:t,feedbackMessage:n};this.props.showFeedback(s)},getFeedbackMessage:function(){const{linkedComponent:e,component:n}=this.props,t=n._selectedAnswer,s=e._selectedAnswer;if(n._feedback)return t<s?n._feedback._lessConfidence:t>s?n._feedback._higherConfidence:t===s?n._feedback._matchingConfidence:void 0},getButtonSettings:function(){const{articleStyle:e,theme:n}=this.props;let t=n._button._settings;if(e&&"none"!==e){t=n._articleStyles[e]._elements._button._settings}return t},getButtonsClassName:function(e){const{component:n,buttons:t}=this.props;return a("ev-buttons",{"ev-buttons-full":e._isFullLayout,"ev-buttons-hide-marking-icon":e._shouldHideMarkingIcon,"ev-buttons-hide-show-feedback":t._showFeedback&&t._showFeedback._isDisabled,"ev-buttons-action-is-right":e._isActionButtonOnRight,"ev-buttons-individual-styles":e._hasIndividualButtonStyles,"ev-buttons-center":e._isCenterLayout&&!e._isFullLayout})},renderSlider:function(){const{linkedComponent:e,component:n,isRTL:t}=this.props;if(e){const s=!e._isComplete||n._isComplete;return o.createElement(r,{value:n._selectedAnswer,step:e._step,min:e._range._min,max:e._range._max,isDisabled:s,onChange:this.onChange,labels:{min:e._labels._min,max:e._labels._max,selected:e._isComplete?n._labels._selected:""},isRTL:t})}},renderPrevious:function(){const{linkedComponent:e,component:n}=this.props;if(e)return e._isComplete?o.createElement("div",{className:"ev-linkedConfidenceSlider-range-linked"},o.createElement("div",{className:"linkedConfidenceSlider-range-linked-value ev-label"},o.createElement("span",{className:"ev-linkedConfidenceSlider-range-linked-value-text"},n._labels._previouslySelected),o.createElement("span",{className:"ev-linkedConfidenceSlider-range-linked-value-number ev-rangeslider-range-current-value-number"},e._selectedAnswer))):o.createElement("div",{className:"ev-linkedConfidenceSlider-linked-incomplete-message"},o.createElement("div",{className:"ev-linkedConfidenceSlider-linked-incomplete-message-inner ev-label"},n._linkedIncompleteMessage),o.createElement("button",{className:"ev-linkedConfidenceSlider-navigate-linked-button ev-button ev-primary",onClick:this.onNavigateClicked},n._navigateToLinkedButtonText))},renderShowFeedbackButton:function(){const{component:e,buttons:n}=this.props;if(e._feedback&&!e._shouldDisplayFeedbackInline)return o.createElement("button",{className:"ev-button ev-buttons-feedback ev-primary","aria-label":n._showFeedback.ariaLabel,onClick:this.onShowFeedbackClicked,disabled:!e._isComplete},n._showFeedback.buttonText)},renderButtons:function(){const{linkedComponent:e,buttons:n,component:t}=this.props;if(e&&e._isComplete){const e=this.getButtonSettings();return o.createElement("div",{className:this.getButtonsClassName(e)},o.createElement("div",{className:"ev-buttons-cluster-bottom ev-clearfix"},o.createElement("button",{className:"ev-button ev-buttons-action ev-primary","aria-label":n._submit.ariaLabel,onClick:this.onSubmitClicked,disabled:t._isComplete},n._submit.buttonText),this.renderShowFeedbackButton()))}},getIsVisibilitySensorActive:function(){const{component:e,isPageReady:n}=this.props;return!0===n&&!0===e._isReady&&!0!==e._hasBeenViewed},render:function(){const{props:e}=this;return o.createElement(l,{component:e.component,styles:e.styles,isVisibilitySensorActive:this.getIsVisibilitySensorActive(),onVisibilityChange:this.onVisibilityChange},o.createElement("div",{className:c(e.component)},this.renderSlider(),this.renderPrevious(),this.renderButtons()))}});e.exports=u},1979:function(e,n,t){"use strict";const s=t(10),{SET_COMPONENT_AS_COMPLETE:i}=t(63),{SLIDER_VALUE_CHANGED:o}=t(1542);e.exports=(e,n)=>{switch(n.type){case o:return s({},e,{_selectedAnswer:n.payload.value});case i:return s({},e,{_isCorrect:!0});default:return e}}},1980:function(e,n,t){"use strict";var s=t(5);const i=t(39),o=t(10),{COMPONENT_COMPLETED:a,updateComponents:l}=t(63);n.confidenceSliderCompletedEpic=(e,n)=>e.ofType(a).mergeMap(({type:e,payload:t})=>{const{components:a}=n.getState(),r=a[t.componentId];if("confidenceSlider"===r._component){const e=i(a).filter(e=>"linkedConfidenceSlider"===e._component&&e._linkedConfidenceSliderId===r._refId&&!e._isComplete).mapValues(e=>o({},e,{_selectedAnswer:r._selectedAnswer})).keyBy("_id").value();return s.Observable.of(l(e))}return s.Observable.empty()})},1981:function(e,n,t){"use strict";const s=t(78),i=t(215);e.exports=(e,n)=>({theme:e.theme,articleStyle:s(e,n,"article")._classes,buttons:e.course._buttons,linkedComponent:i(n._linkedConfidenceSliderId)})},1982:function(e,n,t){"use strict";e.exports={_interactionType:{type:"String",default:"interaction",shouldRestore:!1},_selectedAnswer:{fieldKey:"_selectedAnswer",type:"Number",shouldRestore:!0}}}}]);